# ChatWhispG

ChatWhispG — это Telegram-бот, использующий машинное обучение для обнаружения и блокировки нежелательного контента, включая нецензурную лексику, рекламу и предложения о нелегальной продукции. Он предоставляет панель администратора с подробной статистикой и возможностью управления фильтрацией контента.

## Возможности
- **Анализ контента:** Обнаруживает нецензурную лексику и рекламу в текстовых сообщениях.
- **Модели машинного обучения:** Использует продвинутые модели для классификации сообщений.
- **Панель администратора:** Позволяет администраторам переключать фильтры и просматривать статистику использования.
- **Отслеживание статистики:** Записывает данные о обработке сообщений для анализа.

## Требования
- Python 3.10 или выше
- Зависимости, указанные в файле `requirements.txt`

## Установка

1. **Клонируйте репозиторий:**
   ```bash
   git clone https://github.com/yourusername/ChatWhispG.git
   cd ChatWhispG
   ```

2. **Настройте виртуальное окружение:**
   ```bash
   python3 -m venv venv
   source venv/bin/activate   # Для Windows: venv\Scripts\activate
   ```

3. **Установите зависимости:**
   ```bash
   pip install -r requirements.txt
   ```

4. **Настройте конфигурацию:**
   - Переименуйте файл `config.example.py` в `config.py`.
   - Откройте `config.py` и заполните необходимые данные:
     - `BOT_TOKEN`: Токен Telegram-бота.
     - `ADMINS`: Список ID пользователей Telegram с доступом администратора.
     - `ALLOWED_CHATS`: Список ID чатов Telegram, которым разрешено взаимодействие с ботом.
     - `FILTER_PROFANITY`, `FILTER_ADVERTISING`: Логические флаги для включения/отключения фильтров.

5. **Подготовьте наборы данных:**
   - Разместите наборы данных для обучения модели в папке `dataset/ru/` с именами файлов:
     - `neutral.json` - Нейтральные тексты.
     - `profanity.json` - Тексты с нецензурной лексикой.
     - `ads.json` - Рекламные тексты.

6. **Обучите модель:**
   ```bash
   python train.py
   ```
   Этот скрипт выполнит предварительную обработку данных и обучение модели.

7. **Запустите бота:**
   ```bash
   python main.py
   ```

## Использование

- **Команды пользователей:**
  - `/add <category>`: Добавить сообщение в набор данных (используется в ответ на сообщение).
- **Панель администратора:**
  - `/admin`: Открыть панель администратора для переключения фильтров и просмотра статистики.

## Структура папок
```
ChatWhispG/
├── main.py            # Основной скрипт для запуска бота
├── admin.py           # Логика панели администратора
├── train.py           # Скрипт для обучения модели
├── config.py          # Файл конфигурации
├── requirements.txt   # Зависимости Python
├── dataset/           # Папка с наборами данных
│   ├── ru/            # Наборы данных на русском языке
│       ├── neutral.json
│       ├── profanity.json
│       ├── ads.json
├── models/            # Папка для хранения обученных моделей
└── README.md          # Документация
```

## Зависимости
- `aiogram`: Фреймворк для работы с Telegram API
- `tensorflow`: Библиотека для машинного обучения
- `numpy`: Вычисления с массивами
- `pandas`: Обработка данных
- `matplotlib`: Визуализация данных
- `sqlite3`: Управление базой данных

## Участие в разработке
Pull-запросы приветствуются. Для крупных изменений сначала создайте issue, чтобы обсудить, что вы хотите изменить.
